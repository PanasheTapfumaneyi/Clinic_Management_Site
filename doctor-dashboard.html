<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden {
            display: none;
        }

        /* Custom active state styling for selected tab */
        .active {
            background-color: #38a169;
            /* Tailwind green-600 */
            color: white;
        }
    </style>
</head>

<body class="bg-gray-100">

    <!-- Navbar -->
    <nav class="bg-blue-600 p-4 flex justify-between items-center text-white">
        <div class="flex items-center">
            <img src="logo.png" alt="Logo" class="h-8 mr-2">
            <h1 class="text-xl font-bold">KiviCare</h1>
        </div>
        <div class="flex items-center">
            <button class="bg-pink-500 py-2 px-4 rounded-lg text-white">Send test Email</button>
            <img src="admin-profile.jpg" alt="Admin" class="ml-4 h-10 w-10 rounded-full">
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white p-4 h-screen shadow-md">
            <ul id="sidebar" class="space-y-4">
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('dashboard.html' , this)">Dashboard</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('appointments-section.html' , this)">Appointments</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('encounters.html' , this)">Encounters</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('clinic-section.html' , this)">Clinic</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('patients-section.html' , this)">Patients</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('doctors.html' , this)">Doctors</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('receptionist.html' , this)">Receptionist</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('doctor-sessions.html' , this)">Doctor Sessions</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('taxes.html' , this)">Taxes</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('billing-records.html', this)">Billing Records</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('reports.html', this)">Reports</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('settings.html', this)">Settings</a></li>
                <li><a href="#" class="flex items-center p-2 hover:bg-gray-200 rounded-lg"
                        onclick="showPage('help.html', this)">Help</a></li>
            </ul>
        </aside>



        <!-- Main Content -->
        <main id="content-area" class="flex-1 p-8">
            <!-- Dashboard Section -->
            <section id="dashboard" class="page">
                <div class="grid grid-cols-4 gap-6 mb-6">
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h2 class="text-gray-600 font-semibold">Total Patients</h2>
                        <p class="text-3xl font-bold text-red-500">1</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h2 class="text-gray-600 font-semibold">Total Doctors</h2>
                        <p class="text-3xl font-bold text-yellow-500">1</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h2 class="text-gray-600 font-semibold">Total Appointments</h2>
                        <p class="text-3xl font-bold text-green-500">0</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h2 class="text-gray-600 font-semibold">Total Revenue</h2>
                        <p class="text-3xl font-bold text-teal-500">$0/-</p>
                    </div>
                </div>
            </section>


            <!-- Encounters Section -->
            <section id="encounters" class="page hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold">Encounters</h2>
                    <p class="text-center text-gray-500">Encounter Data Here</p>
                </div>
            </section>





            <!-- Doctors Section -->
            <section id="doctors" class="page hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold">Doctors List</h2>
                    <p class="text-center text-gray-500">Doctor Data Here</p>
                </div>
            </section>

            <!-- Receptionist Section -->
            <section id="receptionist" class="page hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold">Receptionist Information</h2>
                    <p class="text-center text-gray-500">Receptionist Data Here</p>
                </div>
            </section>


            <!-- Add Patient Modal -->
            <div id="addPatientModal"
                class="fixed z-50 inset-0 flex items-center justify-center hidden bg-black bg-opacity-50">
                <div class="bg-white p-6 rounded-lg shadow-lg w-1/3">
                    <h2 class="text-xl font-semibold mb-4">Add Patient</h2>
                    <form id="addPatientForm">
                        <div class="mb-4">
                            <label for="patientName" class="block text-gray-700">Name</label>
                            <input type="text" id="patientName" class="border border-gray-300 p-2 w-full rounded-lg">
                        </div>
                        <div class="mb-4">
                            <label for="patientEmail" class="block text-gray-700">Email</label>
                            <input type="email" id="patientEmail" class="border border-gray-300 p-2 w-full rounded-lg">
                        </div>
                        <div class="mb-4">
                            <label for="patientMobile" class="block text-gray-700">Mobile</label>
                            <input type="text" id="patientMobile" class="border border-gray-300 p-2 w-full rounded-lg">
                        </div>
                        <div class="mb-4">
                            <label for="patientClinic" class="block text-gray-700">Clinic</label>
                            <input type="text" id="patientClinic" class="border border-gray-300 p-2 w-full rounded-lg">
                        </div>
                        <div class="mb-4">
                            <label for="patientStatus" class="block text-gray-700">Status</label>
                            <select id="patientStatus" class="border border-gray-300 p-2 w-full rounded-lg">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="flex justify-end">
                            <button type="button" class="bg-red-500 text-white px-4 py-2 rounded-lg mr-2"
                                onclick="closeAddPatientPopup()">Cancel</button>
                            <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded-lg">Add
                                Patient</button>
                        </div>
                    </form>
                </div>
            </div>


        </main>
    </div>

    <script>
        // Mock patient data
        const patients = [
            { id: '1', name: 'John Doe', clinic: 'Main Clinic', email: 'john@example.com', mobile: '1234567890', registeredOn: '2023-09-15', status: 'active' },
            { id: '2', name: 'Jane Smith', clinic: 'West Clinic', email: 'jane@example.com', mobile: '0987654321', registeredOn: '2023-09-16', status: 'inactive' }
            // Add more data here
        ];

        // Load patient data into the table
        function loadPatients() {
            const tbody = document.getElementById('patientsTableBody');
            tbody.innerHTML = ''; // Clear previous data
            patients.forEach(patient => {
                const row = `
                <tr>
                    <td class="p-4 border-b">${patient.id}</td>
                    <td class="p-4 border-b">${patient.name}</td>
                    <td class="p-4 border-b">${patient.clinic}</td>
                    <td class="p-4 border-b">${patient.email}</td>
                    <td class="p-4 border-b">${patient.mobile}</td>
                    <td class="p-4 border-b">${patient.registeredOn}</td>
                    <td class="p-4 border-b">${patient.status}</td>
                    <td class="p-4 border-b"><button class="bg-red-500 text-white px-3 py-1 rounded-lg">Delete</button></td>
                </tr>
            `;
                tbody.innerHTML += row;
            });
        }

        // Call this function when page loads to initialize patient data
        loadPatients();

        // Function to handle searching
        function searchPatients() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            // Perform search based on ID, Name, Email or Status
            const filteredPatients = patients.filter(patient => {
                return (
                    patient.id.toLowerCase().includes(query) ||
                    patient.name.toLowerCase().includes(query) ||
                    patient.email.toLowerCase().includes(query) ||
                    patient.status.toLowerCase().includes(query)
                );
            });
            // Update the table with filtered data
            updatePatientTable(filteredPatients);
        }

        // Function to update the table based on search or filter
        function updatePatientTable(filteredPatients) {
            const tbody = document.getElementById('patientsTableBody');
            tbody.innerHTML = ''; // Clear previous data
            filteredPatients.forEach(patient => {
                const row = `
                <tr>
                    <td class="p-4 border-b">${patient.id}</td>
                    <td class="p-4 border-b">${patient.name}</td>
                    <td class="p-4 border-b">${patient.clinic}</td>
                    <td class="p-4 border-b">${patient.email}</td>
                    <td class="p-4 border-b">${patient.mobile}</td>
                    <td class="p-4 border-b">${patient.registeredOn}</td>
                    <td class="p-4 border-b">${patient.status}</td>
                    <td class="p-4 border-b"><button class="bg-red-500 text-white px-3 py-1 rounded-lg">Delete</button></td>
                </tr>
            `;
                tbody.innerHTML += row;
            });
        }

        // Functions for pagination, changing rows per page, etc. can be added here

        // Modal functions for adding a patient
        function openAddPatientPopup() {
            document.getElementById('addPatientModal').classList.remove('hidden');
        }
        function closeAddPatientPopup() {
            document.getElementById('addPatientModal').classList.add('hidden');
        }
        function importData() {
            // Implement data import functionality
            alert('Import data functionality goes here.');
        }
        function showPage(pageUrl, element) {
            const contentArea = document.getElementById('content-area');
            const tabs = document.querySelectorAll('#sidebar li a');

            // Remove active class from all tabs
            tabs.forEach(tab => tab.classList.remove('active'));

            // Add active class to the clicked tab
            element.classList.add('active');

            // Fetch the content of the new page
            fetch(pageUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Page not found');
                    }
                    return response.text();
                })
                .then(data => {
                    // Clear the content area before injecting new content
                    contentArea.innerHTML = "";

                    // Inject the fetched HTML content into the content area
                    contentArea.innerHTML = data;

                    // After content is injected, scroll to top of the page (optional)
                    window.scrollTo(0, 0);

                    // Call function to initialize page-specific JavaScript after loading
                    if (pageUrl.includes('appointments-section')) {
                        loadAppointments(); // Initialize appointments JS logic
                    } else if (pageUrl.includes('patients-section.html')) {
                        loadPatients();
                    }
                })
                .catch(error => {
                    contentArea.innerHTML = '<p>Error loading page.</p>';
                    console.error('Error:', error);
                });
        }






    </script>


</body>

</html>